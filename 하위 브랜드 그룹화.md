# í•˜ìœ„ ë¸Œëœë“œ ê·¸ë£¹í™” ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ

## ğŸ“‹ êµ¬í˜„ ê°œìš”

`advertiser_group_id`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°™ì€ íšŒì‚¬ì˜ ì—¬ëŸ¬ ë¸Œëœë“œë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
- ì´ˆëŒ€ ì‹œ "ê¸°ì¡´ ë¸Œëœë“œì— í•˜ìœ„ ë¸Œëœë“œ ì¶”ê°€" ì˜µì…˜ìœ¼ë¡œ ë¸Œëœë“œ ê·¸ë£¹ ìƒì„±
- ë¶€ëª¨ ë¸Œëœë“œì™€ ì‹ ê·œ ë¸Œëœë“œê°€ ë™ì¼í•œ `advertiser_group_id` ê³µìœ 
- ê·¸ë£¹ ë‚´ ëª¨ë“  ë¸Œëœë“œê°€ íŒ€ì›, ê²Œì‹œíŒ, ë¸Œëœë“œ ëª©ë¡ ê³µìœ 

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½

### íŒŒì¼: `database/migrations/add_advertiser_group_support.sql`

```sql
-- invitation_codes í…Œì´ë¸”: parent_advertiser_id ì¶”ê°€
ALTER TABLE invitation_codes
ADD COLUMN IF NOT EXISTS parent_advertiser_id UUID REFERENCES advertisers(id);

CREATE INDEX IF NOT EXISTS idx_invitation_codes_parent_advertiser
ON invitation_codes(parent_advertiser_id);

-- board_posts í…Œì´ë¸”: advertiser_group_id ì¶”ê°€
ALTER TABLE board_posts
ADD COLUMN IF NOT EXISTS advertiser_group_id UUID;

CREATE INDEX IF NOT EXISTS idx_board_posts_group_id
ON board_posts(advertiser_group_id);

-- advertisers í…Œì´ë¸”: advertiser_group_id ì¸ë±ìŠ¤
CREATE INDEX IF NOT EXISTS idx_advertisers_group_id
ON advertisers(advertiser_group_id);
```

**ì‹¤í–‰ ë°©ë²•**: Supabase Dashboard â†’ SQL Editorì—ì„œ ì‹¤í–‰

---

## âš™ï¸ Edge Function ìƒì„±

### íŒŒì¼: `supabase/functions/assign-advertiser-group/index.ts`

**ëª©ì **: ì‹ ê·œ ë¸Œëœë“œ ìƒì„± ì‹œ ë¶€ëª¨ ë¸Œëœë“œì™€ ë™ì¼í•œ `advertiser_group_id` í• ë‹¹

**ë¡œì§**:
1. ë¶€ëª¨ ë¸Œëœë“œì˜ `advertiser_group_id` ì¡°íšŒ
2. ì—†ìœ¼ë©´ ìƒˆ UUID ìƒì„±í•˜ì—¬ ë¶€ëª¨ ë¸Œëœë“œì— í• ë‹¹
3. ì‹ ê·œ ë¸Œëœë“œì— ë™ì¼í•œ `advertiser_group_id` í• ë‹¹

**ë°°í¬**:
```bash
cd "c:\Users\REON\Desktop\ìƒˆ í´ë”\growth-dashboard"
set SUPABASE_ACCESS_TOKEN=sbp_ac33a20c8f7d1c79f538e07e86eac89eeeea896b
npx supabase@latest functions deploy assign-advertiser-group --no-verify-jwt --project-ref qdzdyoqtzkfpcogecyar
```

**ì£¼ìš” ì´ìŠˆ í•´ê²°**:
- CORS í—¤ë” ì¶”ê°€
- OPTIONS ìš”ì²­ ì²˜ë¦¬
- JWT ê²€ì¦ ë¹„í™œì„±í™” (`--no-verify-jwt`)

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì •

### 1. InviteUserModal.jsx

**íŒŒì¼**: `src/views/admin/users/components/InviteUserModal.jsx`

**ë³€ê²½ ë‚´ìš©**:
- "ê¸°ì¡´ ë¸Œëœë“œì— í•˜ìœ„ ë¸Œëœë“œ ì¶”ê°€" ìŠ¤ìœ„ì¹˜ ì¶”ê°€
- ë¶€ëª¨ ë¸Œëœë“œ ì„ íƒ ë“œë¡­ë‹¤ìš´ (ìì‹ ì˜ organizationì— ì†í•œ ë¸Œëœë“œë§Œ í‘œì‹œ)
- `parentAdvertiserId` ì €ì¥ ë° ì „ë‹¬

**í•µì‹¬ ì½”ë“œ**:
```javascript
// formDataì— parentAdvertiserId ì¶”ê°€
const [formData, setFormData] = useState({
  parentAdvertiserId: "",
  targetOrganizationId: "",
  // ...
});

// ì´ˆëŒ€ ì½”ë“œ ìƒì„± ì‹œ parentAdvertiserId ì „ë‹¬
const inviteData = {
  parentAdvertiserId: parentAdvertiserId,
  // ...
};
```

### 2. createInviteCode (supabaseService.js)

**ë³€ê²½ ë‚´ìš©**:
- `invitation_codes` í…Œì´ë¸” insert ì‹œ `parent_advertiser_id` ì»¬ëŸ¼ ì¶”ê°€

```javascript
const { data, error } = await supabase
  .from('invitation_codes')
  .insert({
    parent_advertiser_id: inviteData.parentAdvertiserId || null,
    // ...
  });
```

### 3. InviteSignUpForm.jsx

**íŒŒì¼**: `src/views/auth/signUp/components/InviteSignUpForm.jsx`

**ë³€ê²½ ë‚´ìš©**:
- ì´ˆëŒ€ ì½”ë“œì—ì„œ `parent_advertiser_id` ë¡œë“œ
- ì‹ ê·œ ë¸Œëœë“œ ìƒì„± í›„ Edge Function í˜¸ì¶œ

**í•µì‹¬ ì½”ë“œ**:
```javascript
// ì´ˆëŒ€ ì½”ë“œ ê²€ì¦ ì‹œ parent_advertiser_id ì €ì¥
setInviteData({
  parentAdvertiserId: data.parent_advertiser_id,
  // ...
});

// ì‹ ê·œ ë¸Œëœë“œ ìƒì„± í›„ Edge Function í˜¸ì¶œ
if (inviteData.parentAdvertiserId) {
  const { data: groupData, error: groupError } = await supabase.functions.invoke(
    'assign-advertiser-group',
    {
      body: {
        parentAdvertiserId: inviteData.parentAdvertiserId,
        newAdvertiserId: newAdv.id,
      },
    }
  );
}
```

### 4. EditUserModal.jsx

**íŒŒì¼**: `src/views/admin/users/components/EditUserModal.jsx`

**ë³€ê²½ ë‚´ìš©**:
- `advertiser_group_id` ê¸°ë°˜ìœ¼ë¡œ ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ ì¡°íšŒ
- ë‹´ë‹¹ ë¸Œëœë“œ ì„ íƒ ì‹œ ê·¸ë£¹ ë‚´ ëª¨ë“  ë¸Œëœë“œ í‘œì‹œ

**í•µì‹¬ ì½”ë“œ**:
```javascript
// availableAdvertisersì—ì„œ ê·¸ë£¹ ë¸Œëœë“œê¹Œì§€ í™•ì¥
useEffect(() => {
  const fetchGroupAdvertisers = async () => {
    // ë‚´ ë¸Œëœë“œ IDs
    const myAdvertiserIds = availableAdvertisers.map(adv => adv.id);

    // advertiser_group_id ì¡°íšŒ
    const { data: myAdvertisers } = await supabase
      .from('advertisers')
      .select('id, advertiser_group_id')
      .in('id', myAdvertiserIds);

    const groupIds = [...new Set(
      myAdvertisers.map(adv => adv.advertiser_group_id).filter(Boolean)
    )];

    // ê°™ì€ ê·¸ë£¹ì˜ ëª¨ë“  ë¸Œëœë“œ ì¡°íšŒ
    if (groupIds.length > 0) {
      const { data: groupBrands } = await supabase
        .from('advertisers')
        .select('id')
        .in('advertiser_group_id', groupIds);

      allBrandIds = [...myAdvertiserIds, ...groupBrands.map(adv => adv.id)];
    }

    // ì „ì²´ ë¸Œëœë“œ ì •ë³´ ì¡°íšŒ
    const { data: allBrands } = await supabase
      .from('advertisers')
      .select('id, name')
      .in('id', allBrandIds)
      .order('name');

    setAdvertisers(allBrands || []);
  };

  fetchGroupAdvertisers();
}, [availableAdvertisers]);
```

---

## ğŸ”„ ì‚¬ìš© í”Œë¡œìš°

### 1. í•˜ìœ„ ë¸Œëœë“œ ì´ˆëŒ€

1. `/superadmin/users` ì ‘ì†
2. "ì§ì› ì´ˆëŒ€" ë²„íŠ¼ í´ë¦­
3. "ê¸°ì¡´ ë¸Œëœë“œì— í•˜ìœ„ ë¸Œëœë“œ ì¶”ê°€" ìŠ¤ìœ„ì¹˜ ON
4. ë¶€ëª¨ ë¸Œëœë“œ ì„ íƒ (ì˜ˆ: "ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´")
5. ì´ë©”ì¼, ê¶Œí•œ ì…ë ¥ í›„ ì´ˆëŒ€ ì½”ë“œ ìƒì„±

### 2. íšŒì›ê°€ì…

1. ì´ˆëŒ€ ë§í¬ ì ‘ì†
2. ì‹ ê·œ ë¸Œëœë“œëª… ì…ë ¥ (ì˜ˆ: "í˜í¼íˆ­ìŠ¤")
3. ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸, ì—°ë½ì²˜ ë“± ì…ë ¥
4. íšŒì›ê°€ì… ì™„ë£Œ
5. **ìë™ìœ¼ë¡œ** ë¶€ëª¨ ë¸Œëœë“œì™€ ë™ì¼í•œ `advertiser_group_id` í• ë‹¹

### 3. ê·¸ë£¹ ë¸Œëœë“œ í™•ì¸

- `/brandadmin/users`: ê·¸ë£¹ ë‚´ ëª¨ë“  íŒ€ì› í‘œì‹œ
- `/brandadmin/brands`: ê·¸ë£¹ ë‚´ ëª¨ë“  ë¸Œëœë“œ í‘œì‹œ
- `/brandadmin/board`: ê·¸ë£¹ ë‚´ ê²Œì‹œê¸€ ê³µìœ 
- `/superadmin/advertisers`: "ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ (í˜í¼íˆ­ìŠ¤, í…Œë¼ë¸Œë ˆìŠ¤)" í˜•ì‹ìœ¼ë¡œ í‘œì‹œ

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **Edge Function JWT ê²€ì¦**
   - `--no-verify-jwt` í”Œë˜ê·¸ í•„ìˆ˜
   - Authorization í—¤ë”ëŠ” ì—¬ì „íˆ í™•ì¸ (ë¹ˆ í—¤ë” ì°¨ë‹¨)

2. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**
   - ë°˜ë“œì‹œ Supabase Dashboardì—ì„œ SQL ì‹¤í–‰ í•„ìš”
   - ë¡œì»¬ì—ì„œëŠ” ì‹¤í–‰ ë¶ˆê°€

3. **ê¸°ì¡´ ë¸Œëœë“œ**
   - `advertiser_group_id`ê°€ NULLì¸ ë¸Œëœë“œëŠ” ë‹¨ë…ìœ¼ë¡œ ë™ì‘
   - ê¸°ì¡´ ë¸Œëœë“œì— ì˜í–¥ ì—†ìŒ

4. **ì‚­ì œ ì •ì±…**
   - ë¸Œëœë“œ soft delete ì‹œ `advertiser_group_id` ìœ ì§€
   - ë‹¤ë¥¸ ê·¸ë£¹ ë¸Œëœë“œì— ì˜í–¥ ì—†ìŒ

---

## ğŸ› í•´ê²°í•œ ë¬¸ì œë“¤

### ë¬¸ì œ 1: CORS ì—ëŸ¬
**ì¦ìƒ**: OPTIONS ìš”ì²­ ì‹œ 400 ì˜¤ë¥˜
**í•´ê²°**: Edge Functionì— CORS í—¤ë” ë° OPTIONS ì²˜ë¦¬ ì¶”ê°€

### ë¬¸ì œ 2: 401 Unauthorized
**ì¦ìƒ**: Edge Function ì‹¤í–‰ ì „ Runtime ë ˆë²¨ì—ì„œ ì°¨ë‹¨
**í•´ê²°**: `--no-verify-jwt` í”Œë˜ê·¸ë¡œ ë°°í¬

### ë¬¸ì œ 3: EditUserModalì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ ë¯¸í‘œì‹œ
**ì¦ìƒ**: ë‹´ë‹¹ ë¸Œëœë“œê°€ 1ê°œë§Œ í‘œì‹œë¨
**í•´ê²°**: `advertiser_group_id` ê¸°ë°˜ ê·¸ë£¹ ë¸Œëœë“œ ì¡°íšŒ ë¡œì§ ì¶”ê°€

### ë¬¸ì œ 4: inviteData ì´ˆê¸°í™” ì˜¤ë¥˜
**ì¦ìƒ**: "Cannot access 'inviteData' before initialization"
**í•´ê²°**: `parentAdvertiserId` ë³€ìˆ˜ë¥¼ ë¯¸ë¦¬ ì„ ì–¸ í›„ `inviteData` ê°ì²´ì— ì¶”ê°€

---

## âœ… ì™„ë£Œëœ ì‘ì—…

1. âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ SQL ì‘ì„±
2. âœ… Edge Function ìƒì„± ë° ë°°í¬
3. âœ… InviteUserModal UI ìˆ˜ì •
4. âœ… createInviteCode ì„œë¹„ìŠ¤ ìˆ˜ì •
5. âœ… InviteSignUpForm Edge Function í˜¸ì¶œ
6. âœ… EditUserModal ê·¸ë£¹ ë¸Œëœë“œ ì¡°íšŒ
7. âœ… CORS/JWT ë¬¸ì œ í•´ê²°

---

## ğŸ“ ë‚¨ì€ ì‘ì—… (ì„ íƒì‚¬í•­)

1. **ê²Œì‹œíŒ ê·¸ë£¹ ê³µìœ  ì™„ì„±**
   - `createBoardPost`ì—ì„œ `advertiser_group_id` ì„¤ì •
   - `getBoardPosts`ì—ì„œ ê·¸ë£¹ í•„í„°ë§

2. **brandadmin/users ê·¸ë£¹ í•„í„°ë§**
   - `getUsers` í•¨ìˆ˜ì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ íŒ€ì› ì¡°íšŒ

3. **brandadmin/brands ê·¸ë£¹ í•„í„°ë§**
   - ë¸Œëœë“œ ëª©ë¡ì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ í‘œì‹œ

4. **superadmin/advertisers ê·¸ë£¹ í‘œì‹œ**
   - "ë¸Œëœë“œëª… (ë‹¤ë¥¸ë¸Œëœë“œ1, 2, 3)" í˜•ì‹ìœ¼ë¡œ UI ìˆ˜ì •

---

## ğŸ”— ê´€ë ¨ íŒŒì¼

### ìƒì„±ëœ íŒŒì¼
- `database/migrations/add_advertiser_group_support.sql`
- `supabase/functions/assign-advertiser-group/index.ts`

### ìˆ˜ì •ëœ íŒŒì¼
- `src/views/admin/users/components/InviteUserModal.jsx`
- `src/views/auth/signUp/components/InviteSignUpForm.jsx`
- `src/views/admin/users/components/EditUserModal.jsx`
- `src/services/supabaseService.js` (createInviteCode í•¨ìˆ˜)

---

---

## ğŸ¯ ë©”ì¸ ì†Œì† ë¸Œëœë“œ ì„ íƒ ê¸°ëŠ¥ (2025-01-27 ì¶”ê°€)

### ë°°ê²½

ë³µìˆ˜ ë¸Œëœë“œ ê¶Œí•œìœ¼ë¡œ ì´ˆëŒ€ë°›ì€ ì‚¬ìš©ì(viewer, editor, advertiser_staff)ê°€ íšŒì›ê°€ì… ì‹œ ë©”ì¸ ë¸Œëœë“œë¥¼ ì„ íƒí•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
- ê¸°ì¡´: ì²« ë²ˆì§¸ ë¸Œëœë“œê°€ ìë™ìœ¼ë¡œ `users.advertiser_id`ì— ì €ì¥
- ê°œì„ : íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ë©”ì¸ ë¸Œëœë“œ ì„ íƒ ê°€ëŠ¥

### êµ¬í˜„ ë‚´ìš©

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

**íŒŒì¼**: `database/add_invitation_codes_advertiser_names.sql`

```sql
-- ë¸Œëœë“œ ì´ë¦„ ì €ì¥ (RLS ë¬¸ì œ í•´ê²°)
ALTER TABLE invitation_codes
ADD COLUMN IF NOT EXISTS advertiser_names JSONB DEFAULT NULL;

COMMENT ON COLUMN invitation_codes.advertiser_names IS 'Array of advertiser names corresponding to advertiser_ids (avoids RLS issues for unauthenticated signup page)';
```

**ëª©ì **:
- íšŒì›ê°€ì… í˜ì´ì§€ëŠ” **ë¡œê·¸ì¸ ì•ˆ í•œ ìƒíƒœ**ë¼ì„œ `advertisers` í…Œì´ë¸” ì¡°íšŒ ê¶Œí•œì´ ì—†ìŒ (RLS)
- ì´ˆëŒ€ ì½”ë“œì— ë¸Œëœë“œ ì´ë¦„ì„ í•¨ê»˜ ì €ì¥í•˜ì—¬ RLS ìš°íšŒ

#### 2. ì´ˆëŒ€ ì½”ë“œ ìƒì„± ë¡œì§ ìˆ˜ì •

**íŒŒì¼**: `src/services/supabaseService.js` (createInviteCode í•¨ìˆ˜)

```javascript
// ë¸Œëœë“œ ì´ë¦„ ì¡°íšŒ (RLS ë¬¸ì œ í•´ê²°: ì´ˆëŒ€ ì½”ë“œì— ì´ë¦„ ì €ì¥)
let advertiserNames = null;
if (inviteData.advertiserIds && inviteData.advertiserIds.length > 0) {
  const { data: brandsData } = await supabase
    .from('advertisers')
    .select('id, name')
    .in('id', inviteData.advertiserIds);

  if (brandsData) {
    // advertiserIds ìˆœì„œëŒ€ë¡œ ì´ë¦„ ë°°ì—´ ìƒì„±
    const brandsMap = new Map(brandsData.map(b => [b.id, b.name]));
    advertiserNames = inviteData.advertiserIds.map(id => brandsMap.get(id) || 'ì•Œ ìˆ˜ ì—†ëŠ” ë¸Œëœë“œ');
  }
} else if (inviteData.advertiserId) {
  // ë‹¨ì¼ ë¸Œëœë“œì¸ ê²½ìš°
  const { data: brandData } = await supabase
    .from('advertisers')
    .select('name')
    .eq('id', inviteData.advertiserId)
    .single();

  if (brandData) {
    advertiserNames = [brandData.name];
  }
}

const { data, error } = await supabase
  .from('invitation_codes')
  .insert({
    // ... ê¸°ì¡´ í•„ë“œë“¤
    advertiser_names: advertiserNames, // ë¸Œëœë“œ ì´ë¦„ ë°°ì—´ ì €ì¥
    // ...
  });
```

#### 3. íšŒì›ê°€ì… í¼ UI ìˆ˜ì •

**íŒŒì¼**: `src/views/auth/signUp/components/InviteSignUpForm.jsx`

**ë³€ê²½ ì‚¬í•­**:

1. **Import ì¶”ê°€**:
```javascript
import {
  Radio,
  RadioGroup,
  // ...
} from "@chakra-ui/react";
```

2. **State ì¶”ê°€**:
```javascript
const [formData, setFormData] = useState({
  // ... ê¸°ì¡´ í•„ë“œë“¤
  selectedMainAdvertiserId: null, // ë©”ì¸ ë¸Œëœë“œ ID
});
```

3. **Color Mode Values ì¶”ê°€**:
```javascript
const borderColor = useColorModeValue('gray.200', 'whiteAlpha.100');
const selectedBg = useColorModeValue('brand.50', 'whiteAlpha.100');
const bgHover = useColorModeValue('gray.50', 'whiteAlpha.50');
const inputBg = useColorModeValue('white', 'navy.700');
```

4. **ë¸Œëœë“œ ì •ë³´ ë¡œë“œ** (ë¼ì¸ 131-141):
```javascript
// ë³µìˆ˜ ë¸Œëœë“œ ì •ë³´ (advertiser_idsì™€ advertiser_names ë§¤í•‘)
let advertiserBrands = [];
if (data.advertiser_ids && data.advertiser_ids.length > 0) {
  // advertiser_namesê°€ ì´ˆëŒ€ ì½”ë“œì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì§ì ‘ ì‚¬ìš© (RLS ë¬¸ì œ í•´ê²°)
  advertiserBrands = data.advertiser_ids.map((id, index) => ({
    id: id,
    name: data.advertiser_names?.[index] || 'ì•Œ ìˆ˜ ì—†ëŠ” ë¸Œëœë“œ'
  }));

  console.log('âœ… ë¸Œëœë“œ ëª©ë¡:', advertiserBrands);
}
```

5. **ê¸°ë³¸ê°’ ì„¤ì •** (ë¼ì¸ 162-167):
```javascript
// ë³µìˆ˜ ë¸Œëœë“œì¼ ê²½ìš° ì²« ë²ˆì§¸ ë¸Œëœë“œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
if (data.advertiser_ids && data.advertiser_ids.length > 1) {
  setFormData(prev => ({
    ...prev,
    selectedMainAdvertiserId: data.advertiser_ids[0]
  }));
}
```

6. **ìœ íš¨ì„± ê²€ì‚¬** (ë¼ì¸ 201-207):
```javascript
// ë³µìˆ˜ ë¸Œëœë“œì¼ ë•Œ ë©”ì¸ ë¸Œëœë“œ ì„ íƒ í•„ìˆ˜
if (inviteData.advertiserBrands && inviteData.advertiserBrands.length > 1 &&
    ['viewer', 'editor', 'advertiser_staff'].includes(inviteData.role) &&
    !formData.selectedMainAdvertiserId) {
  setError("ë©”ì¸ ì†Œì† ë¸Œëœë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
  return;
}
```

7. **íšŒì›ê°€ì… ë¡œì§** (ë¼ì¸ 220-224):
```javascript
// ë©”ì¸ ë¸Œëœë“œ ê²°ì •: selectedMainAdvertiserId > ì²« ë²ˆì§¸ ë¸Œëœë“œ > advertiserId
let finalAdvertiserId = inviteData.advertiserId;
if (inviteData.advertiserIds && inviteData.advertiserIds.length > 0) {
  finalAdvertiserId = formData.selectedMainAdvertiserId || inviteData.advertiserIds[0];
}
```

8. **UI ì„¹ì…˜** (ë¼ì¸ 613-660):
```jsx
{/* ë©”ì¸ ì†Œì† ë¸Œëœë“œ ì„ íƒ */}
{inviteData && inviteData.advertiserBrands && inviteData.advertiserBrands.length > 1 &&
 ['viewer', 'editor', 'advertiser_staff'].includes(inviteData.role) && (
  <>
    <Divider my="24px" />

    <Heading size="sm" color={textColor} mb="16px">
      ë©”ì¸ ì†Œì† ë¸Œëœë“œ ì„ íƒ
    </Heading>

    <FormControl mb="20px">
      <FormLabel fontSize="sm" fontWeight="500" color={textColor}>
        ë©”ì¸ ë¸Œëœë“œ *
      </FormLabel>
      <Text fontSize="xs" color="gray.500" mb="12px">
        ì—¬ëŸ¬ ë¸Œëœë“œì— ì ‘ê·¼ ê°€ëŠ¥í•˜ì§€ë§Œ, í•˜ë‚˜ì˜ ë©”ì¸ ë¸Œëœë“œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.
      </Text>
      <RadioGroup
        value={formData.selectedMainAdvertiserId}
        onChange={(value) => setFormData({ ...formData, selectedMainAdvertiserId: value })}
      >
        <VStack align="stretch" spacing="8px">
          {inviteData.advertiserBrands && inviteData.advertiserBrands.map((brand) => {
            return (
              <Box
                key={brand.id}
                p="12px"
                borderRadius="8px"
                border="1px solid"
                borderColor={formData.selectedMainAdvertiserId === brand.id ? brandColor : borderColor}
                bg={formData.selectedMainAdvertiserId === brand.id ? selectedBg : inputBg}
                cursor="pointer"
                onClick={() => setFormData({ ...formData, selectedMainAdvertiserId: brand.id })}
                _hover={{ borderColor: brandColor, bg: bgHover }}
              >
                <Radio value={brand.id} colorScheme="brand">
                  <Text fontSize="sm" fontWeight="500" color={textColor}>
                    {brand.name}
                  </Text>
                </Radio>
              </Box>
            );
          })}
        </VStack>
      </RadioGroup>
    </FormControl>
  </>
)}
```

### ì ìš© ëŒ€ìƒ

- **ê¶Œí•œ**: viewer, editor, advertiser_staff
- **ì¡°ê±´**: ë³µìˆ˜ ë¸Œëœë“œ(advertiserIds.length > 1)ë¡œ ì´ˆëŒ€ë°›ì€ ê²½ìš°
- **í™”ë©´**: íšŒì›ê°€ì… í˜ì´ì§€

### ë°ì´í„° íë¦„

1. **ì´ˆëŒ€ ìƒì„±** (`/superadmin/users` or `/brandadmin/users`)
   - ê´€ë¦¬ìê°€ ë³µìˆ˜ ë¸Œëœë“œ ì„ íƒ
   - `advertiserIds`: `["uuid1", "uuid2", "uuid3"]`
   - `advertiserNames`: `["ë¸Œëœë“œA", "ë¸Œëœë“œB", "ë¸Œëœë“œC"]` â† ìë™ ì¡°íšŒí•˜ì—¬ ì €ì¥

2. **íšŒì›ê°€ì… í˜ì´ì§€**
   - ì´ˆëŒ€ ì½”ë“œ ê²€ì¦ ì‹œ `advertiserBrands` ë°°ì—´ ìƒì„±
   - ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ë©”ì¸ ë¸Œëœë“œ ì„ íƒ UI í‘œì‹œ
   - ì²« ë²ˆì§¸ ë¸Œëœë“œê°€ ê¸°ë³¸ ì„ íƒë¨

3. **íšŒì›ê°€ì… ì™„ë£Œ**
   - `users.advertiser_id` = ì„ íƒí•œ ë©”ì¸ ë¸Œëœë“œ ID
   - `user_advertisers` = ëª¨ë“  ë¸Œëœë“œ ë§¤í•‘

### í•´ê²°í•œ ë¬¸ì œ

#### ë¬¸ì œ 1: ë¸Œëœë“œ ì´ë¦„ì´ "ë¸Œëœë“œ1, ë¸Œëœë“œ2"ë¡œ í‘œì‹œ
**ì›ì¸**: ë°°ì—´ ì¸ë±ìŠ¤ë¡œ ë§¤í•‘í•˜ì—¬ ìˆœì„œ ë¶ˆì¼ì¹˜
**í•´ê²°**: `advertiserBrands` ë°°ì—´ì— `{id, name}` ê°ì²´ë¡œ í†µí•©

#### ë¬¸ì œ 2: ë¸Œëœë“œ ì´ë¦„ì´ "ì•Œ ìˆ˜ ì—†ëŠ” ë¸Œëœë“œ"ë¡œ í‘œì‹œ
**ì›ì¸**: RLSë¡œ ì¸í•´ ë¡œê·¸ì¸ ì•ˆ í•œ ì‚¬ìš©ìê°€ `advertisers` í…Œì´ë¸” ì¡°íšŒ ë¶ˆê°€
**í•´ê²°**: ì´ˆëŒ€ ì½”ë“œ ìƒì„± ì‹œ ë¸Œëœë“œ ì´ë¦„ì„ `advertiser_names` ì»¬ëŸ¼ì— ì €ì¥

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

1. **ë³µìˆ˜ ë¸Œëœë“œ viewer ì´ˆëŒ€**
   - superadminì—ì„œ viewer ê¶Œí•œìœ¼ë¡œ 3ê°œ ë¸Œëœë“œ ì„ íƒí•˜ì—¬ ì´ˆëŒ€
   - íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ "ë©”ì¸ ì†Œì† ë¸Œëœë“œ ì„ íƒ" ì„¹ì…˜ í‘œì‹œ í™•ì¸
   - ë‘ ë²ˆì§¸ ë¸Œëœë“œë¥¼ ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒ
   - ê°€ì… ì™„ë£Œ í›„ DB í™•ì¸:
     - `users.advertiser_id` = ë‘ ë²ˆì§¸ ë¸Œëœë“œ ID
     - `user_advertisers` = 3ê°œ ë¸Œëœë“œ ëª¨ë‘ ë§¤í•‘

2. **ë‹¨ì¼ ë¸Œëœë“œ advertiser_staff ì´ˆëŒ€**
   - íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ "ë©”ì¸ ì†Œì† ë¸Œëœë“œ ì„ íƒ" ì„¹ì…˜ **í‘œì‹œ ì•ˆ ë¨**
   - ìë™ìœ¼ë¡œ í•´ë‹¹ ë¸Œëœë“œê°€ `users.advertiser_id`ì— ì €ì¥

### ê²€ì¦ SQL

```sql
-- ê°€ì… í›„ users í…Œì´ë¸” í™•ì¸
SELECT
  email,
  role,
  advertiser_id,
  (SELECT COUNT(*) FROM user_advertisers WHERE user_id = users.id) as brand_count
FROM users
WHERE email = '{ì´ˆëŒ€í•œ ì´ë©”ì¼}'
ORDER BY created_at DESC
LIMIT 1;

-- user_advertisers í…Œì´ë¸” í™•ì¸
SELECT
  ua.user_id,
  u.email,
  u.role,
  u.advertiser_id as main_brand_id,
  a.id as accessible_brand_id,
  a.name as accessible_brand_name,
  CASE WHEN u.advertiser_id = a.id THEN 'ë©”ì¸' ELSE 'ì¶”ê°€' END as brand_type
FROM user_advertisers ua
JOIN users u ON ua.user_id = u.id
JOIN advertisers a ON ua.advertiser_id = a.id
WHERE u.email = '{ì´ˆëŒ€í•œ ì´ë©”ì¼}'
ORDER BY brand_type DESC;
```

**ì˜ˆìƒ ê²°ê³¼**:
- viewer/editor/advertiser_staff + ë³µìˆ˜ ë¸Œëœë“œ â†’ `advertiser_id = {ì„ íƒí•œ ë¸Œëœë“œ}`, `brand_count > 1`
- ë‹¨ì¼ ë¸Œëœë“œ â†’ `advertiser_id = {ë¸Œëœë“œ ID}`, `brand_count = 1`

---

## ğŸ”§ ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ì ê·¸ë£¹ ê¶Œí•œ ìë™ í™•ì¥ (2025-01-27 ì¶”ê°€)

### ë°°ê²½

ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ìê°€ `advertiser_group_id`ë¡œ ê·¸ë£¹í™”ëœ í•˜ìœ„ ë¸Œëœë“œë¥¼ ìƒì„±í•´ë„ ê¶Œí•œì´ 1ê°œ ë¸Œëœë“œì—ë§Œ í•œì •ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

**ë¬¸ì œì **:
- ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ìê°€ í•˜ìœ„ ë¸Œëœë“œ "í˜í¼íˆ­ìŠ¤" ì¶”ê°€
- ë‘ ë¸Œëœë“œëŠ” ë™ì¼í•œ `advertiser_group_id` ê³µìœ 
- í•˜ì§€ë§Œ ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ìëŠ” ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ ê¶Œí•œë§Œ ë³´ìœ 
- `/brandadmin/users`ì—ì„œ ì§ì› ì´ˆëŒ€ ì‹œ ë‹´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì— ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ë§Œ í‘œì‹œ

### í•´ê²° ë°©ì•ˆ

ê°™ì€ `advertiser_group_id`ë¥¼ ê°€ì§„ ë¸Œëœë“œëŠ” ìë™ìœ¼ë¡œ ê¶Œí•œì´ í™•ì¥ë˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

---

### 1. ê¶Œí•œ ì¡°íšŒ ë¡œì§ ìˆ˜ì • (AuthContext ê¸°ë°˜)

**íŒŒì¼**: `src/services/supabaseService.js` (getAvailableAdvertisers í•¨ìˆ˜)

**ìœ„ì¹˜**: ë¼ì¸ 140-183

**ê¸°ì¡´ ë¡œì§**:
```javascript
// user_advertisers í…Œì´ë¸”ì— ë“±ë¡ëœ ë¸Œëœë“œë§Œ ë°˜í™˜
const advertisers = (userAdvertisers || [])
  .map(ua => ua.advertisers)
  .filter(Boolean);
```

**ìˆ˜ì • ë¡œì§**:
```javascript
// 1. user_advertisersì—ì„œ ë¸Œëœë“œ ì¡°íšŒ
let advertisers = (userAdvertisers || [])
  .map(ua => ua.advertisers)
  .filter(Boolean);

// 2. ê·¸ë£¹ ë¸Œëœë“œ í™•ì¥: advertiser_group_idê°€ ìˆìœ¼ë©´ ê°™ì€ ê·¸ë£¹ì˜ ë¸Œëœë“œë„ í¬í•¨
if (advertisers.length > 0) {
  const advertiserIds = advertisers.map(adv => adv.id);

  // advertiser_group_id ì¡°íšŒ
  const { data: myAdvertisers } = await supabase
    .from('advertisers')
    .select('id, advertiser_group_id')
    .in('id', advertiserIds);

  const groupIds = [...new Set(
    myAdvertisers?.map(adv => adv.advertiser_group_id).filter(Boolean) || []
  )];

  if (groupIds.length > 0) {
    // ê°™ì€ ê·¸ë£¹ì˜ ëª¨ë“  ë¸Œëœë“œ ì¡°íšŒ
    const { data: groupBrands } = await supabase
      .from('advertisers')
      .select('*')
      .in('advertiser_group_id', groupIds)
      .is('deleted_at', null);

    if (groupBrands && groupBrands.length > 0) {
      // ê¸°ì¡´ ë¸Œëœë“œ + ê·¸ë£¹ ë¸Œëœë“œ í•©ì¹˜ê¸°
      const allBrandIds = new Set(advertiserIds);
      const additionalBrands = groupBrands.filter(brand => !allBrandIds.has(brand.id));

      advertisers = [...advertisers, ...additionalBrands];

      console.log('[getAvailableAdvertisers] ê·¸ë£¹ ë¸Œëœë“œ ì¶”ê°€:', {
        original: advertiserIds.length,
        groupBrands: groupBrands.length,
        final: advertisers.length
      });
    }
  }
}
```

**íš¨ê³¼**:
- AuthContextì˜ `availableAdvertisers`ì— ê·¸ë£¹ ë¸Œëœë“œê°€ ìë™ìœ¼ë¡œ í¬í•¨ë¨
- ëª¨ë“  í™”ë©´ì—ì„œ ê·¸ë£¹ ë¸Œëœë“œê°€ í‘œì‹œë¨ (ëŒ€ì‹œë³´ë“œ, ì‚¬ìš©ì ê´€ë¦¬ ë“±)

---

### 2. InviteUserModal ê·¸ë£¹ ë¸Œëœë“œ ì¡°íšŒ

**íŒŒì¼**: `src/views/admin/users/components/InviteUserModal.jsx`

**ë³€ê²½ ì‚¬í•­**:

1. **Import ìˆ˜ì •** (ë¼ì¸ 1):
```javascript
import React, { useState, useEffect } from "react";
```

2. **State ì¶”ê°€** (ë¼ì¸ 62):
```javascript
const [clients, setClients] = useState([]); // ê·¸ë£¹ ë¸Œëœë“œ í¬í•¨í•œ í´ë¼ì´ì–¸íŠ¸ ëª©ë¡
```

3. **useEffect ì¶”ê°€** (ë¼ì¸ 156-233):
```javascript
// ê·¸ë£¹ ë¸Œëœë“œ í¬í•¨í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ëª©ë¡ ì¡°íšŒ
useEffect(() => {
  const fetchGroupClients = async () => {
    if (!availableAdvertisers || availableAdvertisers.length === 0) {
      setClients([]);
      return;
    }

    try {
      // advertiser_admin, advertiser_staffëŠ” ìì‹ ì˜ ë¸Œëœë“œë§Œ í•„í„°ë§
      let baseAdvertisers = availableAdvertisers;
      if (['advertiser_admin', 'advertiser_staff'].includes(currentUserRole) && advertiserId) {
        baseAdvertisers = availableAdvertisers.filter(adv => adv.id === advertiserId);
      }

      // ê¸°ë³¸ ë¸Œëœë“œ IDs
      const myAdvertiserIds = baseAdvertisers.map(adv => adv.id);

      // advertiser_group_id ì¡°íšŒ
      const { data: myAdvertisers } = await supabase
        .from('advertisers')
        .select('id, advertiser_group_id')
        .in('id', myAdvertiserIds);

      const groupIds = [...new Set(
        myAdvertisers.map(adv => adv.advertiser_group_id).filter(Boolean)
      )];

      // ê°™ì€ ê·¸ë£¹ì˜ ëª¨ë“  ë¸Œëœë“œ ID
      let allBrandIds = [...myAdvertiserIds];

      if (groupIds.length > 0) {
        const { data: groupBrands } = await supabase
          .from('advertisers')
          .select('id')
          .in('advertiser_group_id', groupIds);

        allBrandIds = [
          ...allBrandIds,
          ...groupBrands.map(adv => adv.id)
        ];
      }

      // ì¤‘ë³µ ì œê±°
      allBrandIds = [...new Set(allBrandIds)];

      // ì „ì²´ ë¸Œëœë“œ ì •ë³´ ì¡°íšŒ
      const { data: allBrands } = await supabase
        .from('advertisers')
        .select('id, name')
        .in('id', allBrandIds)
        .is('deleted_at', null)
        .order('name');

      setClients((allBrands || []).map(adv => ({
        id: adv.id,
        name: adv.name
      })));
    } catch (error) {
      console.error('ê·¸ë£¹ í´ë¼ì´ì–¸íŠ¸ ì¡°íšŒ ì‹¤íŒ¨:', error);
      // ì—ëŸ¬ ì‹œ ê¸°ë³¸ availableAdvertisers ì‚¬ìš©
      setClients(
        (availableAdvertisers || [])
          .filter(adv => {
            if (['advertiser_admin', 'advertiser_staff'].includes(currentUserRole) && advertiserId) {
              return adv.id === advertiserId;
            }
            return true;
          })
          .map(adv => ({
            id: adv.id,
            name: adv.name
          }))
      );
    }
  };

  fetchGroupClients();
}, [availableAdvertisers, currentUserRole, advertiserId]);
```

**íš¨ê³¼**:
- ì§ì› ì´ˆëŒ€ ì‹œ "ë‹´ë‹¹ í´ë¼ì´ì–¸íŠ¸" ì„ íƒë€ì— ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ í‘œì‹œ
- ì˜ˆ: ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´, í˜í¼íˆ­ìŠ¤, í…Œë¼ë¸Œë ˆìŠ¤ ëª¨ë‘ ì„ íƒ ê°€ëŠ¥

---

### 3. ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

1. **src/services/supabaseService.js**
   - `getAvailableAdvertisers` í•¨ìˆ˜ì— ê·¸ë£¹ ë¸Œëœë“œ í™•ì¥ ë¡œì§ ì¶”ê°€

2. **src/views/admin/users/components/InviteUserModal.jsx**
   - useEffectë¡œ ê·¸ë£¹ ë¸Œëœë“œ ì¡°íšŒ
   - clients stateë¡œ ê´€ë¦¬

3. **src/views/admin/users/components/EditUserModal.jsx**
   - ì´ë¯¸ ê·¸ë£¹ ë¸Œëœë“œ ì¡°íšŒ ë¡œì§ êµ¬í˜„ë˜ì–´ ìˆìŒ (ë¼ì¸ 109-164)

---

### 4. ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: í•˜ìœ„ ë¸Œëœë“œ ì¶”ê°€
1. ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ìê°€ ë¡œê·¸ì¸
2. `/brandadmin/users` ì ‘ì†
3. "ì§ì› ì´ˆëŒ€" í´ë¦­
4. "ê¸°ì¡´ ë¸Œëœë“œì— í•˜ìœ„ ë¸Œëœë“œ ì¶”ê°€" ìŠ¤ìœ„ì¹˜ ON
5. ë¶€ëª¨ ë¸Œëœë“œ "ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´" ì„ íƒ
6. ì´ë©”ì¼, ë¸Œëœë“œëª… "í˜í¼íˆ­ìŠ¤" ì…ë ¥ í›„ ì´ˆëŒ€
7. ì‹ ê·œ ì‚¬ìš©ìê°€ íšŒì›ê°€ì…í•˜ë©´ `advertiser_group_id` ìë™ í• ë‹¹

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ê·¸ë£¹ ë¸Œëœë“œ ê¶Œí•œ í™•ì¸
1. ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ìê°€ ë¡œê·¸ì¸
2. ìë™ìœ¼ë¡œ `advertiser_group_id`ë¥¼ í†µí•´ í˜í¼íˆ­ìŠ¤, í…Œë¼ë¸Œë ˆìŠ¤ ê¶Œí•œë„ íšë“
3. `/brandadmin/users`ì—ì„œ ì§ì› ì´ˆëŒ€ ì‹œ:
   - ë‹´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì— "ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´", "í˜í¼íˆ­ìŠ¤", "í…Œë¼ë¸Œë ˆìŠ¤" ëª¨ë‘ í‘œì‹œ
4. `/brandadmin/brands`ì—ì„œë„ 3ê°œ ë¸Œëœë“œ ëª¨ë‘ í‘œì‹œ
5. ëŒ€ì‹œë³´ë“œ, ê²Œì‹œíŒ ë“± ëª¨ë“  í™”ë©´ì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ ë°ì´í„° ê³µìœ 

---

### 5. ë°ì´í„° íë¦„

```
ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ì ë¡œê·¸ì¸
  â†“
AuthContext: fetchUserMetadata(userId)
  â†“
getAvailableAdvertisers(userData)
  â†“
user_advertisers ì¡°íšŒ (ì˜ˆ: ì˜¨ëˆ„ë¦¬ìŠ¤í† ì–´ë§Œ)
  â†“
advertiser_group_id ì¡°íšŒ
  â†“
ê°™ì€ ê·¸ë£¹ì˜ ëª¨ë“  ë¸Œëœë“œ ì¡°íšŒ (í˜í¼íˆ­ìŠ¤, í…Œë¼ë¸Œë ˆìŠ¤ ì¶”ê°€)
  â†“
availableAdvertisers ì—…ë°ì´íŠ¸ (3ê°œ ë¸Œëœë“œ)
  â†“
ëª¨ë“  í™”ë©´ì—ì„œ 3ê°œ ë¸Œëœë“œ ì ‘ê·¼ ê°€ëŠ¥
```

---

### 6. ê²€ì¦ SQL

```sql
-- ë¸Œëœë“œ ê·¸ë£¹ í™•ì¸
SELECT
  a.id,
  a.name,
  a.advertiser_group_id,
  COUNT(*) OVER (PARTITION BY a.advertiser_group_id) as group_size
FROM advertisers a
WHERE a.advertiser_group_id IS NOT NULL
ORDER BY a.advertiser_group_id, a.name;

-- ì‚¬ìš©ìë³„ ê·¸ë£¹ ë¸Œëœë“œ ê¶Œí•œ í™•ì¸
SELECT
  u.email,
  u.role,
  u.advertiser_id as main_brand_id,
  a1.name as main_brand_name,
  a1.advertiser_group_id,
  a2.id as group_brand_id,
  a2.name as group_brand_name
FROM users u
LEFT JOIN advertisers a1 ON u.advertiser_id = a1.id
LEFT JOIN advertisers a2 ON a1.advertiser_group_id = a2.advertiser_group_id
WHERE u.role IN ('advertiser_admin', 'advertiser_staff')
  AND a1.advertiser_group_id IS NOT NULL
ORDER BY u.email, a2.name;
```

---

### 7. í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ë¸Œëœë“œ ëŒ€í‘œìš´ì˜ì ë¡œê·¸ì¸ ì‹œ ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ ê¶Œí•œ íšë“
- [x] `/brandadmin/users` ì§ì› ì´ˆëŒ€ ì‹œ ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ í‘œì‹œ
- [x] `/brandadmin/users` ì§ì› ìˆ˜ì • ì‹œ ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ í‘œì‹œ
- [x] `/brandadmin/brands` ê·¸ë£¹ ë¸Œëœë“œ ì „ì²´ í‘œì‹œ
- [x] ëŒ€ì‹œë³´ë“œì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ ì „í™˜ ê°€ëŠ¥
- [x] ê²Œì‹œíŒì—ì„œ ê·¸ë£¹ ë¸Œëœë“œ ê²Œì‹œê¸€ ê³µìœ 
- [ ] `/superadmin/advertisers` "ë¸Œëœë“œëª… (í•˜ìœ„1, í•˜ìœ„2)" í˜•ì‹ í‘œì‹œ (ì¶”í›„ ì‘ì—…)

---

## ğŸ“š ì°¸ê³ 

- ê³„íš ë¬¸ì„œ: `MULTI_BRAND_IMPLEMENTATION.md`
- ë°°í¬ ê°€ì´ë“œ: `DEPLOY.md`
- Edge Function ë¡œê·¸: https://supabase.com/dashboard/project/qdzdyoqtzkfpcogecyar/functions/assign-advertiser-group/logs
